var Vow = require('./index');

var promise1 = Vow.promise(),
    promise2 = Vow.promise(),
    data = {}; // unknown till runtime

Vow
    .all([
        promise1,
        data.params && promise2
    ])
    .spread(function(p1, p2) {
        console.log(p1, p2 ? p2 : 'no data for p2');
    });

setTimeout(function() {
    promise1.fulfill('ta');
}, 100);

setTimeout(function() {
    promise2.fulfill('ta');
}, 400);